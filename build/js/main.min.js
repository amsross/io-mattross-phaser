"use strict";var w=window.innerWidth*window.devicePixelRatio,h=window.innerHeight*window.devicePixelRatio,coins,cursors,layer,layer_foreground,layer_collision,map,player,score=0,scoreText,game=new Phaser.Game(h>w?h:w,h>w?w:h,Phaser.AUTO,"",{preload:function(){game.load.tilemap("mario","assets/img/maps/smb_1_1.json",null,Phaser.Tilemap.TILED_JSON),game.load.image("tiles","assets/img/tiles/smb_1_1.png"),game.load.image("metatiles","assets/img/tiles/metatiles16x16.png"),game.load.spritesheet("coin","assets/img/sprites/smb_coin.png",16,16),game.load.spritesheet("bmo","assets/img/sprites/bmo.png",32,32)},create:function(){cursors=game.input.keyboard.createCursorKeys(),game.stage.backgroundColor="#6b8cff",game.physics.startSystem(Phaser.Physics.ARCADE),map=game.add.tilemap("mario"),map.addTilesetImage("smb_1_1","tiles"),map.addTilesetImage("metatiles16x16","metatiles"),layer_collision=map.createLayer("collision"),layer_collision.resizeWorld(),layer_collision.visible=!1,map.setCollision(41,!0,layer_collision,!0),map.setCollision(42,!0,layer_collision,!0),layer=map.createLayer("background"),layer.resizeWorld(),player=game.add.sprite(32,game.world.height-150,"bmo"),game.camera.follow(player),game.physics.arcade.enable(player),player.body.debug=!0,player.body.bounce.y=0,player.body.gravity.y=600,player.body.collideWorldBounds=!0,player.anchor.setTo(.5,1),player.animations.add("walk",[0,1,2,3,4,5,6,7],10,!0),player.collectStar=function(a,b){b.kill(),score+=10,scoreText.text="Score: "+score},layer_foreground=map.createLayer("foreground"),layer_foreground.resizeWorld(),coins=game.add.group(),coins.enableBody=!0;for(var a=0;12>a;a++){var b=coins.create(70*a,0,"coin",0);game.physics.arcade.enable(b),b.body.collideWorldBounds=!0,b.body.gravity.y=250+.75*Math.random(),b.body.bounce.y=.6+.2*Math.random(),b.animations.add("blink",[0,1,2],5,!0),b.animations.play("blink")}scoreText=game.add.text(16,16,"Score: 0",{fontSize:"32px",fill:"#fff"})},update:function(){game.physics.arcade.collide(coins,coins),game.physics.arcade.collide(coins,layer_collision),game.physics.arcade.collide(player,layer_collision),game.physics.arcade.overlap(player,coins,player.collectStar,null,this),player.body.velocity.x=0,cursors.left.isDown?(player.body.velocity.x=-150,player.animations.play("walk"),player.scale.x=-1):cursors.right.isDown?(player.body.velocity.x=150,player.animations.play("walk"),player.scale.x=1):(player.animations.stop(),player.frame=1),cursors.up.isDown&&(player.body.touching.down||player.body.blocked.down||Math.ceil(player.y)===game.world.height)&&(player.body.velocity.y=-350)}});console.log(game);
//# sourceMappingURL=main.min.js.map